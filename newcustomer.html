{% extends 'base.html' %}
{% block content %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration</title>
    <link rel="stylesheet" href="base.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <h1>Please enter your information</h1>
    <form id="userForm" action="/cust_list.html" onsubmit="return validateForm()">
        <label for="fname">First name:</label><br>
        <input type="text" id="fname" name="fname">
        <span class="error" id="fnameError">First name is required</span><br>

        <label for="lname">Last name:</label><br>
        <input type="text" id="lname" name="lname">
        <span class="error" id="lnameError">Last name is required</span><br>

        <label for="mi">Middle initial:</label><br>
        <input type="text" id="mi" name="mi"><br>

        <label for="email">Email:</label><br>
        <input type="text" id="email" name="email">
        <span class="error" id="emailError">Valid email is required</span><br>

        <label for="pnumber">Phone number:</label><br>
        <input type="text" id="pnumber" name="pnumber">
        <span class="error" id="pnumberError">Phone number is required</span><br>

        <label for="ava_url">Avatar url:</label><br>
        <input type="text" id="ava_url" name="ava_url"><br>

        <input type="submit" value="Submit">
    </form>

    <script>
        function validateForm() {
            let valid = true;

            // Hide all previous error messages
            document.getElementById("fnameError").style.display = "none";
            document.getElementById("lnameError").style.display = "none";
            document.getElementById("emailError").style.display = "none";
            document.getElementById("pnumberError").style.display = "none";

            // Validate first name
            const fname = document.getElementById("fname").value;
            if (fname.trim() === "") {
                document.getElementById("fnameError").style.display = "inline";
                valid = false;
            }

            // Validate last name
            const lname = document.getElementById("lname").value;
            if (lname.trim() === "") {
                document.getElementById("lnameError").style.display = "inline";
                valid = false;
            }

            // Validate email
            const email = document.getElementById("email").value;
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                document.getElementById("emailError").style.display = "inline";
                valid = false;
            }

            // Validate phone number
            const pnumber = document.getElementById("pnumber").value;
            if (pnumber.trim() === "") {
                document.getElementById("pnumberError").style.display = "inline";
                valid = false;
            }

            return valid; // Prevent form submission if invalid
        }
    </script>

    <style>
        .error {
            color: red;
            display: none; /* Hide error messages initially */
        }
    </style>

</body>
{% endblock %}
